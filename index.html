
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>TemPy - docs</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;python&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="python">python</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#fast-object-oriented-html-templating-with-python" class="toc-h1 toc-link" data-title="Fast Object-Oriented HTML templating With Python!">Fast Object-Oriented HTML templating With Python!</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#what" class="toc-h2 toc-link" data-title="Fast Object-Oriented HTML templating With Python!">What</a>
                  </li>
                  <li>
                    <a href="#why" class="toc-h2 toc-link" data-title="Fast Object-Oriented HTML templating With Python!">Why?</a>
                  </li>
                  <li>
                    <a href="#weeeeeeee" class="toc-h2 toc-link" data-title="Fast Object-Oriented HTML templating With Python!">Weeeeeeee!</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#installation" class="toc-h1 toc-link" data-title="Installation">Installation</a>
          </li>
          <li>
            <a href="#building-the-dom" class="toc-h1 toc-link" data-title="Building the DOM">Building the DOM</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#basic-usage" class="toc-h2 toc-link" data-title="Building the DOM">Basic Usage</a>
                  </li>
                  <li>
                    <a href="#building-blocks" class="toc-h2 toc-link" data-title="Building the DOM">Building blocks</a>
                  </li>
                  <li>
                    <a href="#oot-object-oriented-templating" class="toc-h2 toc-link" data-title="Building the DOM">OOT - Object Oriented Templating</a>
                  </li>
                  <li>
                    <a href="#tempy-repr-39-s" class="toc-h2 toc-link" data-title="Building the DOM">TemPy repr's</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#elements-api" class="toc-h1 toc-link" data-title="Elements api">Elements api</a>
          </li>
          <li>
            <a href="#tag-attributes" class="toc-h1 toc-link" data-title="Tag Attributes">Tag Attributes</a>
          </li>
          <li>
            <a href="#dom-navigation" class="toc-h1 toc-link" data-title="DOM navigation">DOM navigation</a>
          </li>
          <li>
            <a href="#performance" class="toc-h1 toc-link" data-title="Performance">Performance</a>
          </li>
          <li>
            <a href="#credits-made-and-mantained-by-federico-cerchiari-hrabal" class="toc-h1 toc-link" data-title="Credits: made and mantained by Federico Cerchiari / Hrabal">Credits: made and mantained by Federico Cerchiari / Hrabal</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#contribute" class="toc-h2 toc-link" data-title="Credits: made and mantained by Federico Cerchiari / Hrabal">Contribute.</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#project" class="toc-h1 toc-link" data-title="Project">Project</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#compatibility" class="toc-h2 toc-link" data-title="Project">Compatibility</a>
                  </li>
                  <li>
                    <a href="#status" class="toc-h2 toc-link" data-title="Project">Status</a>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Get in touch using SLACK!</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='fast-object-oriented-html-templating-with-python'>Fast Object-Oriented HTML templating With Python!</h1><h3 id='what'>What</h3>
<p>Build HTML without writing a single tag.
TemPy dynamically generates HTML and accesses it in a pure Python or jQuery fashion. Navigating the DOM and manipulating tags is also possible in a Python or jQuery-similar sintax.</p>
<h3 id='why'>Why?</h3>
<p>HTML is like SQL: we all use it, we know it works, we all recognize it&#39;s important, but our biggest dream is to never write a single line of it again. For SQL we have ORM&#39;s, but we&#39;re not there yet for HTML.
Templating systems are cool (Python syntax in html code) but not cool enough (you still have to write html somehow)..
..so the idea of TemPy.</p>
<h3 id='weeeeeeee'>Weeeeeeee!</h3>
<p>No parsing and a simple structure makes TemPy fast. TemPy simply adds html tags around your data, and the actual html string exists only at render time.
See below for benchmarks against other templating engines.</p>
<h1 id='installation'>Installation</h1>
<p>TemPy is avaiable on PyPi: <code>pip3 install tem-py</code>.</p>

<p>Or clone/download this repository and run <code>python3 setup.py install</code></p>
<h1 id='building-the-dom'>Building the DOM</h1><h2 id='basic-usage'>Basic Usage</h2><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">tempy.tags</span> <span class="kn">import</span> <span class="n">Html</span><span class="p">,</span> <span class="n">Head</span><span class="p">,</span> <span class="n">Body</span><span class="p">,</span> <span class="n">Meta</span><span class="p">,</span> <span class="n">Link</span><span class="p">,</span> <span class="n">Div</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">A</span>
<span class="n">my_text_list</span> <span class="o">=</span> <span class="p">[</span><span class="s">'This is foo'</span><span class="p">,</span> <span class="s">'This is Bar'</span><span class="p">,</span> <span class="s">'Have you met my friend Baz?'</span><span class="p">]</span>
<span class="n">another_list</span> <span class="o">=</span> <span class="p">[</span><span class="s">'Lorem ipsum '</span><span class="p">,</span> <span class="s">'dolor sit amet, '</span><span class="p">,</span> <span class="s">'consectetur adipiscing elit'</span><span class="p">]</span>

<span class="n">page</span> <span class="o">=</span> <span class="n">Html</span><span class="p">()(</span>  <span class="c"># add tags inside the one you created calling the parent</span>
    <span class="n">Head</span><span class="p">()(</span>  <span class="c"># add multiple tags in one call</span>
        <span class="n">Meta</span><span class="p">(</span><span class="n">charset</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">),</span>  <span class="c"># add tag attributes using kwargs in tag initialization</span>
        <span class="n">Link</span><span class="p">(</span><span class="n">href</span><span class="o">=</span><span class="s">"my.css"</span><span class="p">,</span> <span class="n">typ</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">,</span> <span class="n">rel</span><span class="o">=</span><span class="s">"stylesheet"</span><span class="p">)</span>
    <span class="p">),</span>
    <span class="n">body</span><span class="o">=</span><span class="n">Body</span><span class="p">()(</span>  <span class="c"># give them a name so you can navigate the DOM with those names</span>
        <span class="n">Div</span><span class="p">(</span><span class="n">klass</span><span class="o">=</span><span class="s">'linkBox'</span><span class="p">)(</span>
            <span class="n">A</span><span class="p">(</span><span class="n">href</span><span class="o">=</span><span class="s">'www.foo.com'</span><span class="p">)</span>
        <span class="p">),</span>
        <span class="p">(</span><span class="n">P</span><span class="p">()(</span><span class="n">text</span><span class="p">)</span> <span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">my_text_list</span><span class="p">),</span>  <span class="c"># tag insertion accepts generators</span>
        <span class="n">another_list</span>  <span class="c"># add text from a list, str.join is used in rendering</span>
    <span class="p">)</span>
<span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="c"># calling the tag </span>
<span class="n">page</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">](</span><span class="n">A</span><span class="p">(</span><span class="n">href</span><span class="o">=</span><span class="s">'www.bar.com'</span><span class="p">))</span>

<span class="c"># WARNING! Correct ordering with named Tag insertion is ensured with Python &gt;= 3.5 (because kwargs are ordered)</span>
<span class="n">page</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="n">Div</span><span class="p">())</span> 

<span class="c"># using the API</span>
<span class="n">page</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">A</span><span class="p">(</span><span class="n">href</span><span class="o">=</span><span class="s">'www.baz.com'</span><span class="p">))</span>  

<span class="c"># access the body as if it's a page attribute</span>
<span class="n">link</span> <span class="o">=</span> <span class="n">Link</span><span class="p">()</span><span class="o">.</span><span class="n">append_to</span><span class="p">(</span><span class="n">page</span><span class="o">.</span><span class="n">body</span><span class="p">)</span> 

<span class="c"># Add attributes and content to already placed tags</span>
<span class="n">link</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="n">href</span><span class="o">=</span><span class="s">'www.python.org'</span><span class="p">)(</span><span class="s">'This is a link to Python'</span><span class="p">)</span> 
</code></pre><pre class="highlight html"><code>page.render()
&gt;&gt;&gt; <span class="nt">&lt;html&gt;</span>
&gt;&gt;&gt;     <span class="nt">&lt;head&gt;</span>
&gt;&gt;&gt;         <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span><span class="nt">/&gt;</span>
&gt;&gt;&gt;         <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">"my.css"</span> <span class="na">type=</span><span class="s">"text/css"</span> <span class="na">rel=</span><span class="s">"stylesheet"</span><span class="nt">/&gt;</span>
&gt;&gt;&gt;     <span class="nt">&lt;/head&gt;</span>
&gt;&gt;&gt;     <span class="nt">&lt;body&gt;</span>
&gt;&gt;&gt;         <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"linkBox"</span><span class="nt">&gt;</span>
&gt;&gt;&gt;             <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"www.foo.com"</span><span class="nt">&gt;&lt;/a&gt;</span>
&gt;&gt;&gt;             <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"www.bar.com"</span><span class="nt">&gt;&lt;/a&gt;</span>
&gt;&gt;&gt;             <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"www.baz.com"</span><span class="nt">&gt;&lt;/a&gt;</span>
&gt;&gt;&gt;             <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"www.python.org"</span><span class="nt">&gt;</span>This is a link to Python<span class="nt">&lt;/a&gt;</span>
&gt;&gt;&gt;         <span class="nt">&lt;/div&gt;</span>
&gt;&gt;&gt;         <span class="nt">&lt;p&gt;</span>This is foo<span class="nt">&lt;/p&gt;</span>
&gt;&gt;&gt;         <span class="nt">&lt;p&gt;</span>This is Bar<span class="nt">&lt;/p&gt;</span>
&gt;&gt;&gt;         <span class="nt">&lt;p&gt;</span>Have you met my friend Baz?<span class="nt">&lt;/p&gt;</span>
&gt;&gt;&gt;         Lorem ipsum dolor sit amet, consectetur adipiscing elit
&gt;&gt;&gt;     <span class="nt">&lt;/body&gt;</span>
&gt;&gt;&gt; <span class="nt">&lt;/html&gt;</span>
</code></pre>
<p>TemPy offers clean syntax for building pages in pure python. Just make tags instantiating TemPy objects..</p>

<p>..add tags and content to your TemPy objects later..</p>

<p>..and then render your TemPy html object</p>
<h2 id='building-blocks'>Building blocks</h2><pre class="highlight python tab-python"><code><span class="c"># --- file: base_elements.py</span>
<span class="kn">from</span> <span class="nn">somewhere</span> <span class="kn">import</span> <span class="n">links</span><span class="p">,</span> <span class="n">foot_imgs</span>
<span class="c"># define some common blocks</span>
<span class="n">header</span> <span class="o">=</span> <span class="n">Div</span><span class="p">(</span><span class="n">klass</span><span class="o">=</span><span class="s">'header'</span><span class="p">)(</span><span class="n">title</span><span class="o">=</span><span class="n">Div</span><span class="p">()(</span><span class="s">'My website'</span><span class="p">),</span> <span class="n">logo</span><span class="o">=</span><span class="n">Img</span><span class="p">(</span><span class="n">src</span><span class="o">=</span><span class="s">'img.png'</span><span class="p">))</span>
<span class="n">menu</span> <span class="o">=</span> <span class="n">Div</span><span class="p">(</span><span class="n">klass</span><span class="o">=</span><span class="s">'menu'</span><span class="p">)(</span><span class="n">Li</span><span class="p">()(</span><span class="n">A</span><span class="p">(</span><span class="n">href</span><span class="o">=</span><span class="n">link</span><span class="p">))</span> <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">links</span><span class="p">)</span>
<span class="n">footer</span> <span class="o">=</span> <span class="n">Div</span><span class="p">(</span><span class="n">klass</span><span class="o">=</span><span class="s">'coolFooterClass'</span><span class="p">)(</span><span class="n">Img</span><span class="p">(</span><span class="n">src</span><span class="o">=</span><span class="n">img</span><span class="p">)</span> <span class="k">for</span> <span class="n">img</span> <span class="ow">in</span> <span class="n">foot_imgs</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="c"># --- file: pages.py</span>
<span class="kn">from</span> <span class="nn">base_elements</span> <span class="kn">import</span> <span class="n">header</span><span class="p">,</span> <span class="n">menu</span><span class="p">,</span> <span class="n">footer</span>

<span class="c"># import the common blocks and use them inside your page</span>
<span class="n">home_page</span> <span class="o">=</span> <span class="n">Html</span><span class="p">()(</span><span class="n">Head</span><span class="p">(),</span> <span class="n">body</span><span class="o">=</span><span class="n">Body</span><span class="p">()(</span><span class="n">header</span><span class="p">,</span> <span class="n">menu</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="s">'Hello world.'</span><span class="p">,</span> <span class="n">footer</span><span class="o">=</span><span class="n">footer</span><span class="p">))</span>
<span class="n">content_page</span> <span class="o">=</span> <span class="n">Html</span><span class="p">()(</span><span class="n">Head</span><span class="p">(),</span> <span class="n">body</span><span class="o">=</span><span class="n">Body</span><span class="p">()(</span><span class="n">header</span><span class="p">,</span> <span class="n">menu</span><span class="p">,</span> <span class="n">container</span><span class="o">=</span><span class="n">Div</span><span class="p">(</span><span class="n">klass</span><span class="o">=</span><span class="s">'container'</span><span class="p">),</span> <span class="n">footer</span><span class="o">=</span><span class="n">footer</span><span class="p">))</span>
</code></pre><pre class="highlight python tab-python"><code><span class="c"># --- file: my_controller.py</span>
<span class="kn">from</span> <span class="nn">tempy.tags</span> <span class="kn">import</span> <span class="n">Div</span>
<span class="kn">from</span> <span class="nn">pages</span> <span class="kn">import</span> <span class="n">home_page</span><span class="p">,</span> <span class="n">content_page</span>

<span class="nd">@controller_framework_decorator</span>
<span class="k">def</span> <span class="nf">my_home_controller</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s">'/'</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">home_page</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>

<span class="nd">@controller_framework_decorator</span>
<span class="k">def</span> <span class="nf">my_content_controller</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s">'/content'</span><span class="p">):</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">Div</span><span class="p">()(</span><span class="s">'This is my content!'</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">content_page</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">content</span><span class="p">)</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
</code></pre>
<p>You can also create blocks and put them together using the manipulation api, each TemPy object can be used later inside other TemPy object:</p>
<h2 id='oot-object-oriented-templating'>OOT - Object Oriented Templating</h2><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">tempy.widgets</span> <span class="kn">import</span> <span class="n">TempyPage</span>

<span class="k">class</span> <span class="nc">BasePage</span><span class="p">(</span><span class="n">TempyPage</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">js</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">Script</span><span class="p">(</span><span class="n">src</span><span class="o">=</span><span class="s">"//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"</span><span class="p">),</span>
        <span class="p">]</span>

    <span class="k">def</span> <span class="nf">css</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">Link</span><span class="p">(</span><span class="n">href</span><span class="o">=</span><span class="n">url_for</span><span class="p">(</span><span class="s">'static'</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">'style.css'</span><span class="p">),</span>
                 <span class="n">rel</span><span class="o">=</span><span class="s">"stylesheet"</span><span class="p">,</span>
                 <span class="n">typ</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">),</span>
            <span class="n">Link</span><span class="p">(</span><span class="n">href</span><span class="o">=</span><span class="s">'https://fonts.googleapis.com/css?family=Quicksand:300'</span><span class="p">,</span>
                 <span class="n">rel</span><span class="o">=</span><span class="s">"stylesheet"</span><span class="p">),</span>
            <span class="n">Link</span><span class="p">(</span><span class="n">href</span><span class="o">=</span><span class="n">url_for</span><span class="p">(</span><span class="s">'static'</span><span class="p">,</span>
                              <span class="n">filename</span><span class="o">=</span><span class="s">'/resources/font-awesome-4.7.0/css/font-awesome.min.css'</span><span class="p">),</span>
                 <span class="n">rel</span><span class="o">=</span><span class="s">"stylesheet"</span><span class="p">),</span>
        <span class="p">]</span>

    <span class="c"># Define the init method as a constructor of your block structure</span>
    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">css</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">js</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="p">(</span>
            <span class="n">container</span><span class="o">=</span><span class="n">Div</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">'container'</span><span class="p">)(</span>
                <span class="n">title</span><span class="o">=</span><span class="n">Div</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">'title'</span><span class="p">)(</span>
                    <span class="n">Div</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">'page_title'</span><span class="p">)(</span><span class="n">A</span><span class="p">(</span><span class="n">href</span><span class="o">=</span><span class="s">'/'</span><span class="p">)(</span><span class="s">'MySite'</span><span class="p">)),</span>
                    <span class="n">menu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">make_menu</span><span class="p">(</span><span class="s">'MAIN'</span><span class="p">)</span>
                <span class="p">),</span>
                <span class="n">content</span><span class="o">=</span><span class="n">Div</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">'content'</span><span class="p">)(</span><span class="n">Hr</span><span class="p">())</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="c"># Your subclass can have his own methods like any other class</span>
    <span class="k">def</span> <span class="nf">make_menu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">typ</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Div</span><span class="p">(</span><span class="n">klass</span><span class="o">=</span><span class="s">'menu'</span><span class="p">)(</span>
                            <span class="n">Nav</span><span class="p">()(</span>
                                <span class="n">Ul</span><span class="p">()(</span>
                                    <span class="n">Li</span><span class="p">()(</span>
                                        <span class="n">A</span><span class="p">(</span><span class="n">href</span><span class="o">=</span><span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">])(</span><span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
                                    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_menu</span><span class="p">(</span><span class="n">typ</span><span class="p">)</span>
                                <span class="p">)</span>
                            <span class="p">),</span>
                        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_menu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">typ</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[(</span><span class="n">mi</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">mi</span><span class="o">.</span><span class="n">link</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">mi</span> <span class="ow">in</span> <span class="n">Menu</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">filter_by</span><span class="p">(</span><span class="n">active</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">menu</span><span class="o">=</span><span class="n">typ</span>
                                               <span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">Menu</span><span class="o">.</span><span class="n">order</span><span class="p">)</span><span class="o">.</span><span class="nb">all</span><span class="p">()]</span>

</code></pre><pre class="highlight python tab-python"><code><span class="k">class</span> <span class="nc">HomePage</span><span class="p">(</span><span class="n">BasePage</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">content</span><span class="p">(</span>
            <span class="n">Div</span><span class="p">()(</span>
                <span class="n">Br</span><span class="p">(),</span>
                <span class="s">'This is my home page content'</span><span class="p">,</span> <span class="n">Br</span><span class="p">(),</span>
                <span class="n">H3</span><span class="p">()(</span><span class="s">'Hame page important content'</span><span class="p">),</span>
                <span class="s">'Look, I</span><span class="se">\'</span><span class="s">m a string!'</span><span class="p">,</span> <span class="n">Br</span><span class="p">(),</span>
                <span class="n">H3</span><span class="p">()(</span><span class="s">'H3 is big, really big'</span><span class="p">),</span>
                <span class="n">H1</span><span class="p">()(</span><span class="s">'Today'</span><span class="n">s</span> <span class="n">content</span><span class="p">:</span><span class="s">'),</span><span class="err">
</span><span class="s">                self.get_dynamic_content()</span><span class="err">
</span><span class="s">            )</span><span class="err">
</span><span class="s">        )</span><span class="err">

</span><span class="s">    def get_dynamic_content(self):</span><span class="err">
</span><span class="s">        # Here using SQLAlchemy:</span><span class="err">
</span><span class="s">        current_content = Content.query.outerjoin(Content.comments).order_by(Content.date.desc(), Content.id.desc()).limit(1).first()</span><span class="err">
</span><span class="s">        if not current_content:</span><span class="err">
</span><span class="s">            return '</span><span class="n">No</span> <span class="n">content</span> <span class="n">today</span><span class="err">!</span><span class="s">'</span><span class="err">
</span><span class="s">        return Div()(Span()(current_content.title),</span><span class="err">
</span><span class="s">                     Span()(current_content.text)),</span><span class="err">
</span><span class="s">                     Div()(comment for comment in current_content.comments))</span><span class="err">
</span></code></pre>
<p>TemPy is designed to provide Object Oriented Templating. You can subclass TemPy classes and add custom html tree structures to use as blocks.
..you can then sublass your custom TemPy object to add specific behavior:
TemPy executes each base class <code>init</code> method in reverse mro, so your subclass can access all the elements defined in his parent classes.</p>
<h2 id='tempy-repr-39-s'>TemPy repr&#39;s</h2><pre class="highlight python tab-python"><code><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">foo</span> <span class="o">=</span> <span class="s">'foo'</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bar</span> <span class="o">=</span> <span class="s">'bar'</span>

    <span class="k">class</span> <span class="nc">HtmlREPR</span><span class="p">(</span><span class="n">TempyREPR</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">repr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="bp">self</span><span class="p">(</span>
                <span class="n">Div</span><span class="p">()(</span><span class="bp">self</span><span class="o">.</span><span class="n">foo</span><span class="p">),</span>
                <span class="n">Div</span><span class="p">()(</span><span class="bp">self</span><span class="o">.</span><span class="n">bar</span><span class="p">)</span>
            <span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">foo</span> <span class="o">=</span> <span class="s">'foo'</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bar</span> <span class="o">=</span> <span class="s">'bar'</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">link</span> <span class="o">=</span> <span class="s">'www.foobar.com'</span>

    <span class="c"># If an instance on MyClass is found inside a div</span>
    <span class="k">class</span> <span class="nc">Div</span><span class="p">(</span><span class="n">TempyREPR</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">repr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="bp">self</span><span class="p">(</span>
                <span class="n">Div</span><span class="p">()(</span><span class="bp">self</span><span class="o">.</span><span class="n">foo</span><span class="p">),</span>
                <span class="n">Div</span><span class="p">()(</span><span class="bp">self</span><span class="o">.</span><span class="n">bar</span><span class="p">)</span>
            <span class="p">)</span>

    <span class="c"># If an instance on MyClass is found inside a link</span>
    <span class="k">class</span> <span class="nc">A</span><span class="p">(</span><span class="n">TempyREPR</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">repr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s">'href'</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">link</span>
            <span class="bp">self</span><span class="p">(</span><span class="s">'Link to '</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">bar</span><span class="p">)</span>

    <span class="c"># If an instance on MyClass is found inside a table cell</span>
    <span class="k">class</span> <span class="nc">Td</span><span class="p">(</span><span class="n">TempyREPR</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">repr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="bp">self</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bar</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>

    <span class="c"># If an instance on MyClass is found when rendering the a TempyPage called 'HomePage'</span>
    <span class="k">class</span> <span class="nc">HomePage</span><span class="p">(</span><span class="n">TempyREPR</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">repr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c"># note: here self is the object's parent, not the root</span>
            <span class="bp">self</span><span class="p">(</span><span class="s">'Hello World, this is bar: '</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">bar</span><span class="p">)</span>
</code></pre>
<p>Another way to use TemPy is to define a nested <code>TempyREPR</code> class inside your classes:</p>

<p>You can think the <code>TempyREPR</code> as a <code>__repr__</code> equivalent, so when an instance is placed inside a TemPy tree, the <code>TempyREPR</code> subclass is used to render the instance.</p>

<p>You can define several <code>TempyREPR</code> nested classes, when dealing with non-TemPy object TemPy will search for a <code>TempyREPR</code> subclass following this priority:</p>

<ul>
<li>a <code>TempyREPR</code> subclass with the same name of his TemPy container</li>
<li>a <code>TempyREPR</code> subclass with the same name of his TemPy container&#39;s root</li>
<li>a <code>TempyREPR</code> subclass named <code>HtmlREPR</code></li>
<li>the first <code>TempyREPR</code> found.</li>
<li>if none of the previous if found, the object will be rendered calling his <code>__str__</code> method</li>
</ul>

<p>You can use this order to set different renderings for different situation/pages:</p>
<h1 id='elements-api'>Elements api</h1><pre class="highlight python tab-python"><code><span class="n">page</span> <span class="o">=</span> <span class="n">Html</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">page</span><span class="p">(</span><span class="n">Head</span><span class="p">())</span>
<span class="o">&gt;&gt;&gt;</span> <span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;&lt;</span><span class="n">head</span><span class="o">&gt;&lt;/</span><span class="n">head</span><span class="o">&gt;&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">body</span> <span class="o">=</span> <span class="n">Body</span><span class="p">()</span>
<span class="n">page</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;&lt;</span><span class="n">head</span><span class="o">&gt;&lt;/</span><span class="n">head</span><span class="o">&gt;&lt;</span><span class="n">body</span><span class="o">&gt;&lt;/</span><span class="n">body</span><span class="o">&gt;&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
<span class="n">div</span> <span class="o">=</span> <span class="n">Div</span><span class="p">()</span><span class="o">.</span><span class="n">append_to</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;&lt;</span><span class="n">head</span><span class="o">&gt;&lt;/</span><span class="n">head</span><span class="o">&gt;&lt;</span><span class="n">body</span><span class="o">&gt;&lt;</span><span class="n">div</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;&lt;/</span><span class="n">body</span><span class="o">&gt;&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
<span class="n">div</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">'This is some content'</span><span class="p">,</span> <span class="n">Br</span><span class="p">(),</span> <span class="s">'And some Other'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;&lt;</span><span class="n">head</span><span class="o">&gt;&lt;/</span><span class="n">head</span><span class="o">&gt;&lt;</span><span class="n">body</span><span class="o">&gt;&lt;</span><span class="n">div</span><span class="o">&gt;</span><span class="n">This</span> <span class="ow">is</span> <span class="n">some</span> <span class="n">content</span><span class="o">&lt;</span><span class="n">br</span><span class="o">&gt;</span><span class="n">And</span> <span class="n">some</span> <span class="n">Other</span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;&lt;/</span><span class="n">body</span><span class="o">&gt;&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">head</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;&lt;</span><span class="n">body</span><span class="o">&gt;&lt;</span><span class="n">div</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;&lt;/</span><span class="n">body</span><span class="o">&gt;&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
<span class="n">body</span><span class="o">.</span><span class="n">empty</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;&lt;</span><span class="n">body</span><span class="o">&gt;&lt;/</span><span class="n">body</span><span class="o">&gt;&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
<span class="n">page</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">div1</span> <span class="o">=</span> <span class="n">Div</span><span class="p">()</span>
<span class="n">div2</span> <span class="o">=</span> <span class="n">Div</span><span class="p">()</span>
<span class="n">div1</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="n">div2</span><span class="p">)</span>
<span class="n">div1</span><span class="o">.</span><span class="n">before</span><span class="p">(</span><span class="n">div2</span><span class="p">)</span>
<span class="n">div1</span><span class="o">.</span><span class="n">prepend</span><span class="p">(</span><span class="n">div2</span><span class="p">)</span>
<span class="n">div1</span><span class="o">.</span><span class="n">prepend_to</span><span class="p">(</span><span class="n">div2</span><span class="p">)</span>
<span class="n">div1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">div2</span><span class="p">)</span>
<span class="n">div1</span><span class="o">.</span><span class="n">append_to</span><span class="p">(</span><span class="n">div2</span><span class="p">)</span>
<span class="n">div1</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">div2</span><span class="p">)</span>
<span class="n">div1</span><span class="o">.</span><span class="n">wrap_inner</span><span class="p">(</span><span class="n">div2</span><span class="p">)</span>
<span class="n">div1</span><span class="o">.</span><span class="n">replace_with</span><span class="p">(</span><span class="n">div2</span><span class="p">)</span>
<span class="n">div1</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">div2</span><span class="p">)</span>
<span class="n">div1</span><span class="o">.</span><span class="n">move_childs</span><span class="p">(</span><span class="n">div2</span><span class="p">)</span>
<span class="n">div1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">div2</span><span class="p">)</span>
<span class="n">div1</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">div2</span><span class="p">)</span>
<span class="n">div1</span><span class="o">.</span><span class="n">empty</span><span class="p">(</span><span class="n">div2</span><span class="p">)</span>
<span class="n">div1</span><span class="o">.</span><span class="n">children</span><span class="p">(</span><span class="n">div2</span><span class="p">)</span>
<span class="n">div1</span><span class="o">.</span><span class="n">contents</span><span class="p">(</span><span class="n">div2</span><span class="p">)</span>
<span class="n">div1</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">div2</span><span class="p">)</span>
<span class="n">div1</span><span class="o">.</span><span class="n">last</span><span class="p">(</span><span class="n">div2</span><span class="p">)</span>
<span class="n">div1</span><span class="o">.</span><span class="nb">next</span><span class="p">(</span><span class="n">div2</span><span class="p">)</span>
<span class="n">div1</span><span class="o">.</span><span class="n">next_all</span><span class="p">(</span><span class="n">div2</span><span class="p">)</span>
<span class="n">div1</span><span class="o">.</span><span class="n">prev</span><span class="p">(</span><span class="n">div2</span><span class="p">)</span>
<span class="n">div1</span><span class="o">.</span><span class="n">prev_all</span><span class="p">(</span><span class="n">div2</span><span class="p">)</span>
<span class="n">div1</span><span class="o">.</span><span class="n">siblings</span><span class="p">(</span><span class="n">div2</span><span class="p">)</span>
<span class="n">div1</span><span class="o">.</span><span class="nb">slice</span><span class="p">(</span><span class="n">div2</span><span class="p">)</span>
</code></pre>
<p>Create DOM elements by instantiating tags:</p>

<p>Add elements or content by calling them like a function...</p>

<p>...or use one of the jQuery-like apis:</p>

<p>...same for removing:</p>

<p>Several api&#39;s are provided to modify you&#39;re existing DOM elements:</p>

<ul>
<li>after() - </li>
<li>before() - </li>
<li>prepend() - </li>
<li>prepend_to() - </li>
<li>append() - </li>
<li>append_to() - </li>
<li>wrap() - </li>
<li>wrap_inner() - </li>
<li>replace_with() - </li>
<li>remove() - </li>
<li>move_childs() - </li>
<li>move() - </li>
<li>pop() - </li>
<li>empty() - </li>
<li>children() - </li>
<li>contents() - </li>
<li>first() - </li>
<li>last() - </li>
<li>next() - </li>
<li>next_all() - </li>
<li>prev() - </li>
<li>prev_all() - </li>
<li>siblings() - </li>
<li>slice() - </li>
</ul>
<h1 id='tag-attributes'>Tag Attributes</h1><pre class="highlight python tab-python"><code><span class="n">div</span> <span class="o">=</span> <span class="n">Div</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">'my_html_id'</span><span class="p">,</span> <span class="n">klass</span><span class="o">=</span><span class="s">'someHtmlClass'</span><span class="p">)</span> <span class="c"># 'klass' because 'class' is a Python's buildin keyword</span>
<span class="o">&gt;&gt;&gt;</span> <span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s">"my_dom_id"</span> <span class="n">class</span><span class="o">=</span><span class="s">"someHtmlClass"</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">A</span><span class="p">(</span><span class="n">klass</span><span class="o">=</span><span class="s">'someHtmlClass'</span><span class="p">)(</span><span class="s">'text of this link'</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">'another_dom_id'</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">attr</span><span class="p">({</span><span class="s">'href'</span><span class="p">:</span> <span class="s">'www.thisisalink.com'</span><span class="p">})</span>
<span class="o">&gt;&gt;&gt;</span> <span class="o">&lt;</span><span class="n">a</span> <span class="nb">id</span><span class="o">=</span><span class="s">"another_dom_id"</span> <span class="n">class</span><span class="o">=</span><span class="s">"someHtmlClass"</span> <span class="n">href</span><span class="o">=</span><span class="s">"www.thisisalink.com"</span><span class="o">&gt;</span><span class="n">text</span> <span class="n">of</span> <span class="n">this</span> <span class="n">link</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">div2</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="s">'100px'</span><span class="p">,</span> <span class="nb">float</span><span class="o">=</span><span class="s">'left'</span><span class="p">)</span>
<span class="n">div2</span><span class="o">.</span><span class="n">css</span><span class="p">({</span><span class="s">'height'</span><span class="p">:</span> <span class="s">'100em'</span><span class="p">})</span>
<span class="n">div2</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s">'background-color'</span><span class="p">,</span> <span class="s">'blue'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s">"another_dom_id"</span> <span class="n">class</span><span class="o">=</span><span class="s">"someHtmlClass comeOtherClass"</span> <span class="n">style</span><span class="o">=</span><span class="s">"width: 100px; float: left; height: 100em; background-color: blue"</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">divs</span> <span class="o">=</span> <span class="p">[</span><span class="n">Div</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="n">div</span><span class="p">,</span> <span class="n">klass</span><span class="o">=</span><span class="s">'inner'</span><span class="p">)</span> <span class="k">for</span> <span class="n">div</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
<span class="n">ps</span> <span class="o">=</span> <span class="p">(</span><span class="n">P</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="n">container_div</span> <span class="o">=</span> <span class="n">Div</span><span class="p">()(</span><span class="n">divs</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">div</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">container_div</span><span class="p">):</span>
    <span class="n">div</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">'divId'</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
<span class="n">container_div</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ps</span><span class="p">)</span>
<span class="n">container_div</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">'pId'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>     <span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s">"divId0"</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>         <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>         <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>         <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>         <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>         <span class="o">&lt;</span><span class="n">p</span> <span class="nb">id</span><span class="o">=</span><span class="s">"pId"</span><span class="o">&gt;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>         <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>         <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>         <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>         <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>         <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>     <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>     <span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s">"divId1"</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>     <span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s">"divId2"</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>     <span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s">"divId3"</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>     <span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s">"divId4"</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>     <span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s">"divId5"</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>     <span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s">"divId6"</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>     <span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s">"divId7"</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>     <span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s">"divId8"</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span>     <span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s">"divId9"</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</code></pre>
<p>Add attributes to every element at definition time or later.</p>

<p>Styles are editable in the jQuery fashion:</p>
<h1 id='dom-navigation'>DOM navigation</h1><pre class="highlight python tab-python"><code><span class="n">container_div</span> <span class="o">=</span> <span class="n">Div</span><span class="p">()</span>
<span class="n">container_div</span><span class="p">(</span><span class="n">content_div</span><span class="o">=</span><span class="n">Div</span><span class="p">())</span>

<span class="n">container_div</span><span class="o">.</span><span class="n">content_div</span><span class="p">(</span><span class="s">'Some content'</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;&lt;</span><span class="n">div</span><span class="o">&gt;</span><span class="n">Some</span> <span class="n">content</span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="n">container_div</span><span class="o">.</span><span class="n">children</span><span class="p">()</span>
<span class="n">container_div</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
<span class="n">container_div</span><span class="o">.</span><span class="n">last</span><span class="p">()</span>
<span class="n">container_div</span><span class="o">.</span><span class="nb">next</span><span class="p">()</span>
<span class="n">container_div</span><span class="o">.</span><span class="n">prev</span><span class="p">()</span>
<span class="n">container_div</span><span class="o">.</span><span class="n">prev_all</span><span class="p">()</span>
<span class="n">container_div</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="n">container_div</span><span class="o">.</span><span class="nb">slice</span><span class="p">()</span>
</code></pre>
<p>Every TemPy Tag content is iterable and accessible like a Python list:</p>

<p>...or access elements inside a container as if it they were attributes:</p>

<p>..or if you feel jQuery-ish you can use:</p>
<h1 id='performance'>Performance</h1>
<p>Performance varies considerably based on the complexity of the rendered content, the amount of dynamic content on the page, the size of the produced output and many other factors.</p>

<p>TemPy does not parse strings, does not use regex and does not load .html files, resulting in great speed compared to the traditional frameworks such as Jinja2 and Mako.</p>

<p>Here are a few benchmarks of TemPy in action, used in a Flask app, rendering a template (see code <a href="benchmarks">here</a>)</p>

<p>Used HW: 2010 IMac, CPU:2,8 GHz Intel Core i7 RAM:16 GB 1067 MHz DDR3 Osx: 10.12.6.</p>

<p>Benchmark made using <a href="https://github.com/wg/wrk">WRK</a></p>

<p><img src="images/bench.jpg" alt="TemPy Web Rendering" /></p>

<p>Running 20s test @ http://127.0.0.1:8888/tempy + http://127.0.0.1:8888/j2 - 10 threads and 200 connections</p>

<table><thead>
<tr>
<th>Tempy</th>
<th>Avg</th>
<th>Stdev</th>
<th>Max</th>
<th>+/- Stdev</th>
</tr>
</thead><tbody>
<tr>
<td>Latency</td>
<td>109.55ms</td>
<td>52.04ms</td>
<td>515.33ms</td>
<td>93.09%</td>
</tr>
<tr>
<td>Req/Sec</td>
<td>118.27</td>
<td>37.36</td>
<td>240.00</td>
<td>73.77%</td>
</tr>
</tbody></table>

<p>16111 requests in 20.09s, 96.23MB read
Requests/sec: 801.91
Transfer/sec: 4.79MB</p>

<table><thead>
<tr>
<th>Jinja2</th>
<th>Avg</th>
<th>Stdev</th>
<th>Max</th>
<th>+/- Stdev</th>
</tr>
</thead><tbody>
<tr>
<td>Latency</td>
<td>216.04ms</td>
<td>16.05ms</td>
<td>267.06ms</td>
<td>91.16%</td>
</tr>
<tr>
<td>Req/Sec</td>
<td>59.29</td>
<td>20.53</td>
<td>151.00</td>
<td>71.23%</td>
</tr>
</tbody></table>

<p>11841 requests in 20.08s, 72.80MB read
Requests/sec:    589.70
Transfer/sec:      3.63MB</p>

<p>Performance difference is even higher in Jinja2 plain (no Flask) rendering:
<img src="images/bench_plain.jpg" alt="TemPy No-Web Rednering" /></p>
<h1 id='credits-made-and-mantained-by-federico-cerchiari-hrabal'>Credits: made and mantained by Federico Cerchiari / Hrabal</h1><h3 id='contribute'>Contribute.</h3>
<p>Any contribution is welcome. Please refer to the <a href="CONTRIBUTING.md">contributing page</a>.</p>
<h1 id='project'>Project</h1><h2 id='compatibility'>Compatibility</h2>
<p><strong>Python &gt;= 3 is a must</strong>, there is no intention to backport this project to Python 2.7.</p>

<p><strong>Python &gt;= 3.3 is needed</strong>, for TemPy uses the delegation to subgenerator (the <code>yield from</code> statement) proposed in <a href="https://www.python.org/dev/peps/pep-0380/">PEP 380</a>.</p>

<p>This form of yielding is used for speed and can be easily removed if you plan to use TemPy in Python 3.0 to 3.2.x , you&#39;ll just need to substitute the <code>yield from</code> with loop on the inner generator yielding single values.</p>

<p><strong>Python &gt;= 3.6 is preferred</strong>, some useful features depends on the preserved order of kwargs <a href="https://www.python.org/dev/peps/pep-0468/">PEP 468</a>.</p>

<p>The main feature is the possibility to have named child tags in the correct order. Naming child tags is possible in Python &lt; 3.6, but the tag&#39;s order will probably not be correct.</p>
<h3 id='strong-it-it-very-reccomended-to-use-tempy-with-python-gt-3-6-strong'><strong>It it very reccomended to use TemPy with Python &gt;= 3.6.</strong></h3><h2 id='status'>Status</h2>
<p>Current PyPi version: <a href="https://badge.fury.io/py/tem-py"><img src="https://badge.fury.io/py/tem-py.svg" alt="PyPI version" /></a></p>

<p>CI Test coverage: <a href="https://coveralls.io/github/Hrabal/TemPy?branch=master"><img src="https://coveralls.io/repos/github/Hrabal/TemPy/badge.svg?branch=master" alt="Coverage Status" /></a></p>

<p>CI Build status: <a href="https://travis-ci.org/Hrabal/TemPy">Travis</a> <a href="https://travis-ci.org/Hrabal/TemPy"><img src="https://travis-ci.org/Hrabal/TemPy.svg?branch=master" alt="Build Status" /></a></p>
<h3 id='apache-2-0-license-see-license-for-details'>Apache 2.0 license, see LICENSE for details.</h3>
      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="python">python</a>
          </div>
      </div>
    </div>
  </body>
</html>
